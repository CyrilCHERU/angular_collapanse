<div class="background">

  <div class="col text-center mt-1">
    <h1>Inscrivez-vous pour accèder à toutes nos fonctionnalités</h1>
  </div>
  <div class="container rounded mt-1" id="register">
    <div class="alert alert-danger" *ngIf="error">
      <p>{{ errormsg }}</p>
    </div>
    <div class="form-group">
      <form [formGroup]="form" (ngSubmit)="handleSubmit()" class="rounded">
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="gender">Sexe</label>
              <br>
              <input type="radio" formControlName="gender" value="Femme" class="ml-5 mr-2"
                [class.is-invalid]="form.getError('required', 'gender') || form.getError('required', 'gender') && form.touched">Femme
              <input type="radio" formControlName="gender" value="Homme" class="ml-3 mr-2"
                [class.is-invalid]="form.getError('required', 'gender') || form.getError('required', 'gender') && form.touched">Homme
              <p class="invalid-feedback" *ngIf="form.getError('required', 'gender')">Ce champ est requis !</p>
            </div>
            <div class="form-group">
              <select class="form-control" formControlName="job"
                [class.is-invalid]="form.getError('validation', 'job') || form.getError('required', 'job') && form.touched">
                <option [ngValue]="null" disabled>-- Choisissez votre Profession --</option>
                <option [ngValue]="job.id" *ngFor="let job of jobs">{{ job.title }}</option>
              </select>
              <p class="invalid-feedback" *ngIf="form.getError('required', 'job')">Vous devez rentrer votre
                profession !</p>
              <p class="invalid-feedback" *ngIf="form.getError('validation', 'job') as error">
                {{ error }}
              </p>
            </div>
            <div class="form-group mt-4">
              <input type="text" class="form-control" formControlName="lastName" placeholder="Nom"
                [class.is-invalid]="form.getError('validation', 'lastName') || form.getError('required', 'lastName') && form.touched">
              <p class="invalid-feedback" *ngIf="form.getError('required', 'lastName')">Ce champ est requis !</p>
              <p class="invalid-feedback" *ngIf="form.getError('validation', 'lastName') as error">
                {{ error }}
              </p>
            </div>
            <div class="form-group">
              <input type="text" class="form-control" formControlName="firstName" placeholder="Prénom"
                [class.is-invalid]="form.getError('validation', 'firstName') || form.getError('required', 'firstName') && form.touched">
              <p class="invalid-feedback" *ngIf="form.getError('required', 'firstName')">Ce champ est requis !</p>
              <p class="invalid-feedback" *ngIf="form.getError('validation', 'firstName') as error">
                {{ error }}
              </p>
            </div>
          </div>
          <div class="col mt-3">
            <div class="form-group">
              <input type="text" class="form-control" formControlName="adeli" placeholder="Votre numéro ADELI"
                [class.is-invalid]="form.getError('validation', 'adeli') || form.getError('maxLength', 'adeli') || form.getError('required', 'adeli') && form.touched">
              <p class="invalid-feedback" *ngIf="form.getError('required', 'adeli')">Ce champ est requis !</p>
              <p class="invalid-feedback" *ngIf="form.getError('maxLength', 'adeli')">Votre N° ADELI ne peut pas
                comporter plus de 9 chiffres !</p>
              <p class="invalid-feedback" *ngIf="form.getError('validation', 'adeli') as error">
                {{ error }}
              </p>
            </div>
            <div class="form-group">
              <input type="text" class="form-control mb-2" formControlName="phone"
                placeholder="Votre numéro de téléphone"
                [class.is-invalid]="form.getError('validation', 'phone') && form.getError('required', 'phone') || form.getError('maxLength', 'phone') && form.touched">
            </div>
            <div class="form-group mt-2">
              <input type="text" class="form-control" formControlName="address1" placeholder="Adresse"
                [class.is-invalid]="form.getError('validation', 'address1') || form.getError('required', 'address1') && form.touched">
            </div>
            <div class="form-group">
              <input type="text" class="form-control" formControlName="address2" placeholder="Complément d'adresse">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="form-group">
              <input type="email" class="form-control" formControlName="email" placeholder="Votre email"
                [class.is-invalid]="form.getError('validation', 'email') || form.getError('required', 'email') && form.touched">
            </div>
            <div class="form-group">
              <input type="password" class="form-control" formControlName="password" placeholder="Mot de passe"
                [class.is-invalid]="form.getError('validation', 'password') || form.getError('required', 'password') && form.touched">
            </div>
            <div class="form-group">
              <input type="password" class="form-control" formControlName="confirmPassword"
                placeholder="Merci de confirmer votre mot de passe"
                [class.is-invalid]="form.getError('validation', 'confirmPassword') || form.getError('required', 'confirmPassword') && form.touched">
            </div>

          </div>
          <div class="col">
            <div class="form-group">
              <input type="text" class="form-control" formControlName="zipCode" placeholder="Code Postal"
                [class.is-invalid]="form.getError('validation', 'zipCode')  || form.getError('maxLength', 'zipCode') && form.getError('required', 'zipCode') && form.touched">
            </div>
            <div class="form-group">
              <input type="text" class="form-control" formControlName="city" placeholder="Ville"
                [class.is-invalid]="form.getError('validation', 'city') || form.getError('required', 'city') && form.touched">
            </div>
          </div>
        </div>
        <div class="row mt-4">
          <div class="col text-right">
            <button class="btn btn-success" type="submit">Valider</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="container bkg rounded mb-5">
    <div class="row">
      <div class="col text-center rounded bkg">
        <p>« Les informations recueillies vous concernant font l’objet d’un traitement destiné à l'utilisation exclusive
          des fonctionnalités du site,c-à-d, l'échange d'informations utiles aux soins des patients dans le cadre du
          secret professionnel. Les destinataires de ces données sont Les médecins et les infirmiers utilisateurs des
          services. La durée de conservation des données sera illimitée sauf demande contraire. Vous bénéficiez d’un
          droit
          d’accès, de rectification, de portabilité, d’effacement de celles-ci ou une limitation du traitement. Vous
          pouvez vous opposer au traitement des données vous concernant et disposez du droit de retirer votre
          consentement
          à tout moment en vous adressant à contact@collapanse.fr . Vous avez la possibilité d’introduire une
          réclamation
          auprès d’une autorité de contrôle. »</p>
      </div>
    </div>
  </div>
</div>
